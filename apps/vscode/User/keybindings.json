/**
 * @fileoverview Custom keybindings configuration for Visual Studio Code.
 *
 * This file defines a comprehensive set of keyboard shortcuts organized into
 * three main categories:
 *
 *    1. Essential keybindings for core navigation and editor operations
 *    2. Nice-to-have shortcuts for improved productivity
 *    3. Experimental or pending keybindings to be reviewed
 *
 * Notes:
 * - Some keybindings are context-aware using "when" clauses for better UX.
 * - The file uses regions to organize keybindings logically.
 *
 * ‚îå‚îÄ Important ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 * ‚îÇ This configuration overrides several default VSCode shortcuts.          ‚îÇ
 * ‚îÇ Use at your own risk and adapt as needed.                               ‚îÇ
 * ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
 *
 * Key Features:
 * - Alt-based navigation between views (explorer, search, git, copilot, etc.)
 * - Alt+J/K for switching between editors and panels
 * - Ctrl+[/Alt+H/Alt+Left and Ctrl+]/Alt+L/Alt+Right for navigation history
 * - CamelCase-aware cursor movement and selection with Ctrl+Alt+Arrow keys
 * - Enhanced terminal integration Ctrl+Alt+`
 *
 * A non-exhaustive list of keybindings is provided below for quick reference.
 *
 * Essential Navigation:
 * - Alt+B             - Toggle sidebar visibility
 * - Alt+Shift+B       - Toggle auxiliary bar
 * - Alt+R             - Open Explorer view
 * - Alt+F             - Open Search view
 * - Alt+G             - Open Source Control view
 * - Alt+X             - Open Extensions view
 * - Alt+O             - Focus Outline view
 * - Alt+A             - AI chat view
 *
 * Editor Navigation:
 * - Alt+J/K           - Previous/Next editor (when not in panel)
 * - Alt+E             - Quick open recent editor
 * - Shift+Alt+E       - Quick open least recently used editor
 * - Ctrl+[/]          - Navigate backward/forward in history
 * - Ctrl+Tab          - Next editor (overrides default recent editor behavior)
 *
 * Panel & Terminal:
 * - Ctrl+J            - Toggle focus between panel and editor
 * - Ctrl+Alt+`        - Toggle maximized panel
 * - Alt+J/K           - Previous/Next panel view (when in panel)
 * - Shift+Enter       - Line break in terminal
 *
 * Selection & Editing:
 * - Alt+D             - Duplicate selection
 * - Alt+Shift+Up/Down - Expand/Shrink smart selection
 * - Alt+Left/Right    - Move by camelCase word parts
 * - Ctrl+N/P          - Next/Previous find match (when text selected)
 *
 * AI & Copilot:
 * - Ctrl+L            - Accept next word from inline suggestion
 * - Ctrl+K Ctrl+C     - Toggle GitHub Copilot suggestions
 * - Alt+A             - Open AI chat agent
 *
 * Settings & Configuration:
 * - Ctrl+Alt+Shift+S  - Open Settings UI and JSON side-by-side
 * - Ctrl+Alt+Shift+K  - Open Keybindings UI and JSON side-by-side
 * - Ctrl+R            - Go to symbol in file (overrides default Ctrl+Shift+O)
 *
 * @see {@link https://code.visualstudio.com/docs/getstarted/keybindings VSCode Keybindings Documentation}
 *
 * Useful default keybindings:
 * - Ctrl+K P          - Copy active file path to clipboard
 * - Ctrl+K O          - Show active file in new window
 * - Ctrl+K R          - Reveal active file in Explorer/Finder (not working)
 * - Ctrl+K M          - Change file language mode
 * - Ctrl+K Ctrl+T     - Change color theme
 * - Ctrl+K Ctrl+S     - Save all files
 * - Ctrl+K Ctrl+W     - Close all editors
 * - Ctrl+K W          - Close all editors in group
 * - Ctrl+K F          - Close folder/workspace
 * - Ctrl+K Ctrl+S     - Show keyboard shortcuts
 * - Ctrl+K V          - Open Markdown preview to the side
 * - Ctrl+K Z          - Toggle Zen mode
 * - Alt+Shift+H       - Show call hierarchy
 * - Ctrl+K Ctrl+I     - Show hover information
 * - F12               - Go to definition
 * - Alt+F12           - Peek definition
 * - Shift+F12         - Go to references
 * - Ctrl+Shift+O      - Go to symbol in file (alias: Ctrl+R)
 * - Ctrl+T            - Go to symbol in workspace
 * - Ctrl+G            - Go to line
 * - Ctrl+Shift+\      - Jump to matching bracket (alias: Ctrl+M)
 * - Ctrl+Shift+L      - Select all occurrences of current word
 * - Ctrl+Shift+J      - Toggle details in search (ex. include/exclude files)
 * - Ctrl+K C          - Diff current file with clipboard content
 *
 * @author Marcelo Almeida
 * @version 0.1.0
 */
[
  {
    "key": ">>>>>>>>>> üëáüèΩ ESSENTIAL"
  },

  // #region [Essential]

  {
    "key": "alt+b",
    "command": "workbench.action.toggleSidebarVisibility"
  },

  {
    "key": "alt+shift+b",
    "command": "workbench.action.toggleAuxiliaryBar"
  },

  {
    "key": "alt+x",
    "command": "workbench.view.extensions",
    "when": "viewContainer.workbench.view.extensions.enabled"
  },

  {
    "key": "alt+m",
    "command": "editor.action.toggleMinimap"
  },

  {
    "key": "alt+g",
    "command": "workbench.view.scm",
    "when": "workbench.scm.active"
  },

  {
    "key": "alt+o",
    "command": "runCommands",
    "args": {
      "commands": ["outline.focus", "outline.focus"]
    },
    "when": "focusedView != 'outline'"
  },

  {
    "key": "alt+o",
    "command": "workbench.action.focusLastEditorGroup",
    "when": "focusedView == 'outline'"
  },

  {
    "key": "alt+f",
    "command": "workbench.view.search"
  },

  {
    "key": "ctrl+shift+f", // Same as the default, but with context awareness.
    "command": "workbench.action.findInFiles",
    "when": "!inSearchEditor"
  },

  {
    "key": "ctrl+shift+f", // Do not open a new search when in a search editor.
    "command": "search.action.focusQueryEditorWidget",
    "when": "inSearchEditor"
  },

  // #region [Explorer view: claim alt+r and replace existing bindings]

  {
    "key": "alt+r",
    "command": "workbench.view.explorer",
    "when": "viewContainer.workbench.view.explorer.enabled"
  },

  {
    "key": "shift+alt+r",
    "command": "toggleFindRegex",
    "when": "editorFocus"
  },

  {
    "key": "alt+r",
    "command": "-toggleFindRegex",
    "when": "editorFocus"
  },

  {
    "key": "shift+alt+r",
    "command": "-remote-wsl.revealInExplorer",
    "when": "editorFocus && remoteName == 'wsl'"
  },

  {
    "key": "shift+alt+r",
    "command": "-revealFileInOS",
    "when": "!editorFocus"
  },

  {
    "key": "shift+alt+r",
    "command": "toggleSearchEditorRegex",
    "when": "inSearchEditor && searchInputBoxFocus"
  },

  {
    "key": "alt+r",
    "command": "-toggleSearchEditorRegex",
    "when": "inSearchEditor && searchInputBoxFocus"
  },

  {
    "key": "shift+alt+r",
    "command": "workbench.action.terminal.toggleFindRegex",
    "when": "terminalFindVisible && terminalHasBeenCreated || terminalFindVisible && terminalProcessSupported"
  },

  {
    "key": "alt+r",
    "command": "-workbench.action.terminal.toggleFindRegex",
    "when": "terminalFindVisible && terminalHasBeenCreated || terminalFindVisible && terminalProcessSupported"
  },

  {
    "key": "shift+alt+r",
    "command": "toggleSearchRegex",
    "when": "searchViewletFocus"
  },

  // #endregion [Explorer view: claim alt+r and replace existing bindings]

  {
    "key": "alt+r",
    "command": "-toggleSearchRegex",
    "when": "searchViewletFocus"
  },

  {
    "key": "alt+k",
    "command": "workbench.action.nextEditor",
    "when": "!panelFocus"
  },

  {
    "key": "alt+j",
    "command": "workbench.action.previousEditor",
    "when": "!panelFocus"
  },

  {
    // Go to next panel (terminal, output, debug console, problems, etc.).
    "key": "alt+k",
    "command": "workbench.action.nextPanelView",
    "when": "panelFocus"
  },
  {
    // Go to previous panel (terminal, output, debug console, problems, etc.).
    "key": "alt+j",
    "command": "workbench.action.previousPanelView",
    "when": "panelFocus"
  },

  {
    "key": "ctrl+[",
    "command": "workbench.action.navigateBack",
    "when": "canNavigateBack"
  },

  {
    "key": "alt+h",
    "command": "workbench.action.navigateBack",
    "when": "canNavigateBack"
  },

  {
    "key": "ctrl+]",
    "command": "workbench.action.navigateForward",
    "when": "canNavigateForward"
  },

  {
    "key": "alt+l",
    "command": "workbench.action.navigateForward",
    "when": "canNavigateForward"
  },

  {
    "key": "shift+alt+e",
    "command": "workbench.action.quickOpenLeastRecentlyUsedEditorInGroup",
    "when": "!activeEditorGroupEmpty"
  },

  {
    "key": "shift+alt+e",
    "command": "workbench.action.quickOpenNavigatePreviousInEditorPicker",
    "when": "inEditorsPicker && inQuickOpen"
  },

  {
    "key": "alt+e",
    "command": "workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup",
    "when": "!activeEditorGroupEmpty"
  },

  {
    "key": "alt+e",
    "command": "workbench.action.quickOpenNavigateNextInEditorPicker",
    "when": "inEditorsPicker && inQuickOpen"
  },

  {
    // If the panel is active, but not maximized, maximize it.
    "key": "ctrl+alt+`",
    "command": "workbench.action.toggleMaximizedPanel",
    "when": "panelFocus && terminalFocus"
  },

  {
    // If the panel is not active, activate and maximize it.
    "key": "ctrl+alt+`",
    "command": "workbench.action.toggleMaximizedPanel",
    "when": "!panelFocus || !terminalFocus"
  },

  {
    // Toggle focus between panel and editor.
    "key": "ctrl+j",
    "command": "workbench.action.focusLastEditorGroup",
    "when": "panelFocus"
  },

  {
    // Toggle focus between panel and editor.
    "key": "ctrl+j",
    "command": "workbench.action.focusPanel",
    "when": "!panelFocus"
  },

  {
    // Override the default in terminal, as this is very useful there, and send
    // the key sequence to it.
    "key": "ctrl+p",
    "command": "workbench.action.terminal.sendSequence",
    "args": {
      "text": "\u0010"
    },
    "when": "terminalFocus"
  },

  {
    // Insert the next suggested word instead of the full suggestion.
    "key": "ctrl+l",
    "command": "editor.action.inlineSuggest.acceptNextWord",
    "when": "editorTextFocus && inlineSuggestionVisible"
  },

  {
    // Enable/disable GitHub Copilot suggestions.
    "key": "ctrl+k ctrl+c",
    "command": "github.copilot.completions.toggle",
    "when": "editorTextFocus"
  },

  {
    // Overriden. Use ctrl+/ instead, which is better anyway.
    "key": "ctrl+k ctrl+c",
    "command": "-editor.action.addCommentLine",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // <C-n/p> to move to the next/previous find match.
    "key": "ctrl+n",
    "command": "editor.action.moveSelectionToNextFindMatch",
    "when": "editorTextFocus && editorHasSelection && (!neovim.init || (neovim.init && neovim.mode == 'insert'))"
  },

  {
    // <C-n/p> to move to the next/previous find match.
    "key": "ctrl+p",
    "command": "editor.action.moveSelectionToPreviousFindMatch",
    "when": "editorTextFocus && editorHasSelection && (!neovim.init || (neovim.init && neovim.mode == 'insert'))"
  },

  // #region [Cursor movements by line, word and camelcase humps]

  {
    // üê™‚¨ÖÔ∏è
    "key": "ctrl+alt+left",
    "command": "cursorWordPartLeft",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // Select üê™‚¨ÖÔ∏è
    "key": "ctrl+alt+shift+left",
    "command": "cursorWordPartLeftSelect",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // üê™‚û°Ô∏è
    "key": "ctrl+alt+right",
    "command": "cursorWordPartRight",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // Select üê™‚û°Ô∏è
    "key": "ctrl+alt+shift+right",
    "command": "cursorWordPartRightSelect",
    "when": "editorTextFocus"
  },

  // #endregion [Cursor movements by line, word and camelcase humps]

  {
    // The default is to navigate to the most recent editor, but I prefer the
    // usual next/previous editor/browser tab behavior.
    "key": "ctrl+tab",
    "command": "workbench.action.nextEditor"
  },
  {
    // The default is to navigate to the most recent editor, but I prefer the
    // usual next/previous editor/browser tab behavior.
    "key": "ctrl+shift+tab",
    "command": "workbench.action.previousEditor"
  },

  {
    // Send a line break in the terminal. Claude Code supports this for multiple
    // lines.
    "key": "shift+enter",
    "command": "workbench.action.terminal.sendSequence",
    "args": {
      "text": "\\\r\n"
    },
    "when": "terminalFocus"
  },

  {
    // I use ctrl+backspace to delete entire words and end up always triggering
    // this command by mistake.
    "key": "ctrl+backspace",
    "command": "-chatEditing.discardAllFiles",
    "when": "hasUndecidedChatEditingResource && inChatInput && !chatInputHasText && !chatSessionRequestInProgress"
  },
  {
    // I use ctrl+backspace to delete entire words and end up always triggering
    // this command by mistake.
    "key": "ctrl+backspace",
    "command": "-inlineChat2.undo",
    "when": "inlineChatHasEditsAgent && inlineChatVisible && !chatEdits.isRequestInProgress"
  },

  {
    "key": "alt+d",
    "command": "editor.action.duplicateSelection",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // üìà selection.
    "key": "alt+shift+up",
    "command": "editor.action.smartSelect.expand",
    "when": "editorTextFocus"
  },

  {
    // üìà selection.
    "key": "alt+shift+up",
    "command": "-editor.action.copyLinesUpAction",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    // üìà selection.
    "key": "alt+shift+up",
    "command": "-notebook.cell.copyUp",
    "when": "notebookEditorFocused && !inputFocus"
  },

  {
    // üìâ selection.
    "key": "alt+shift+down",
    "command": "editor.action.smartSelect.shrink",
    "when": "editorTextFocus"
  },

  {
    // üìâ selection.
    "key": "alt+shift+down",
    "command": "-notebook.cell.copyDown",
    "when": "notebookEditorFocused && !inputFocus"
  },

  {
    // üìâ selection.
    "key": "alt+shift+down",
    "command": "-editor.action.copyLinesDownAction",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    "key": "alt+shift+w",
    "command": "editor.action.toggleWordWrap"
  },

  {
    // I use this WAY LESS than paste-as.
    "key": "ctrl+shift+v",
    "command": "-markdown.showPreview",
    "when": "!notebookEditorFocused && editorLangId == 'markdown'"
  },

  {
    // I use this WAY MORE than show preview.
    "key": "ctrl+shift+v", // Default: none
    "command": "editor.action.pasteAs",
    "when": "!notebookEditorFocused && editorLangId == 'markdown'"
  },

  {
    // Search through all symbols in a file. Amazing feature for productivity!
    "key": "ctrl+r", // Default: ctrl+shift+o
    "command": "workbench.action.gotoSymbol"
  },

  {
    "key": "alt+a", // Default: ctrl+shift+i
    "command": "workbench.action.chat.openAgent"
    // "when": "config.chat.agent.enabled && !chatSetupDisabled && !chatSetupHidden"
  },
  {
    "key": "alt+a", // Default: ctrl+alt+i
    "command": "workbench.panel.chat"
    // "when": "workbench.panel.chat.view.copilot.active"
  },

  {
    "key": ">>>>>>>>>> üëÜüèΩ NEXT ESSENTIAL"
  },

  // #endregion [Essential]
  // #region [Non-essential but nice to have]
  {
    "key": ">>>>>>>>>> üëáüèΩ NICE TO HAVE"
  },

  {
    // üßòüèΩ zen mode.
    "key": "alt+z",
    "command": "workbench.action.toggleZenMode"
  },

  {
    // üßòüèΩ zen mode.
    "key": "alt+z",
    "command": "-editor.action.toggleWordWrap"
  },

  {
    "key": "alt+shift+d",
    "command": "workbench.action.toggleLightDarkThemes"
  },

  {
    // Open the Settings UI and the Settings JSON file.
    "key": "ctrl+alt+shift+s",
    "command": "runCommands",
    "args": {
      "commands": [
        // "workbench.action.newGroupRight",
        "workbench.action.openApplicationSettingsJson",
        "workbench.action.openGlobalSettings",
        // "workbench.action.moveEditorGroupToNewWindow",
        "workbench.action.openApplicationSettingsJson"
      ]
    }
  },

  {
    // Open the Keybindings UI and the Keybindings JSON file.
    "key": "ctrl+alt+shift+k",
    "command": "runCommands",
    "args": {
      "commands": [
        // "workbench.action.newGroupRight",
        "workbench.action.openGlobalKeybindingsFile",
        "workbench.action.openGlobalKeybindings",
        // "workbench.action.moveEditorGroupToNewWindow",
        "workbench.action.openGlobalKeybindingsFile"
      ]
    }
  },

  {
    "key": "alt+p",
    "command": "workbench.action.pinEditor",
    "when": "!activeEditorIsPinned"
  },

  {
    "key": "alt+p",
    "command": "workbench.action.unpinEditor",
    "when": "activeEditorIsPinned"
  },

  {
    // Example of how to use snippets directly from a keybinding. Inserts a code
    // block markdown snippet in the editor.
    "key": "ctrl+shift+c",
    "command": "runCommands",
    "args": {
      "commands": [
        {
          "command": "editor.action.insertSnippet",
          "args": {
            "snippet": "```\n$1\n```$0"
          }
        }
      ]
    },
    "when": "!terminalFocus"
  },

  {
    // Add a new timestamp entry in markdown files.
    "key": "alt+enter",
    "command": "runCommands",
    "args": {
      "commands": [
        // Go to the end of the file.
        {
          "command": "cursorBottom"
        },
        // Insert the snippet defined in snippets/markdown.json.
        {
          "command": "editor.action.insertSnippet",
          "args": {
            "name": "h2 with current time"
          }
        }
      ]
    },
    "when": "editorTextFocus && editorLangId == 'markdown' && !editorReadonly && !terminalFocus"
  },

  {
    "key": "ctrl+shift+c",
    "command": "-workbench.action.terminal.openNativeConsole",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+shift+/",
    "command": "editor.action.blockComment",
    "when": "editorTextFocus && !editorReadonly"
  },

  {
    "key": "ctrl+alt+s",
    "command": "workbench.action.files.saveFiles"
  },
  {
    "key": "ctrl+alt+w",
    "command": "workbench.action.closeOtherEditors"
  },

  {
    "key": ">>>>>>>>>> üëÜüèΩ NEXT NICE TO HAVE"
  },
  // #endregion [Non-essential but nice to have]

  {
    "key": ">>>>>>>>>> üëáüèΩ ADDED FROM THE KEYBINDINGS UI ‚Äî VERIFY AND MOVE ABOVE"
  },
  {
    "key": "shift+alt+j",
    "command": "workbench.action.moveEditorLeftInGroup"
  },
  {
    "key": "shift+alt+k",
    "command": "workbench.action.moveEditorRightInGroup"
  },
  {
    "key": "ctrl+m",
    "command": "-editor.action.toggleTabFocusMode"
  },
  {
    "key": "ctrl+m",
    "command": "editor.action.jumpToBracket",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+alt+m",
    "command": "editor.action.selectToBracket"
  }
]
